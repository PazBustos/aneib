<h1>Administración de eventos</h1>
<%= link_to "Nueva evento", new_event_path, class:"btn btn-default btn-form"%>
<div class="panel panel-default panel-aneib">
	<div class="panel-heading">
		Listado de eventos
	</div>
	<div class="panel-body">
		<table id="event_dt">
			<thead>
				<tr>
					<td>Título</td>
					<td>Autor</td>
					<td>Inicio</td>
					<td>Término</td>
					<td>Administrar</td>
				</tr>
			</thead>
			<tbody>
				<% @events.each do |event| %>
					<tr>
						<td> <%= event.title %></td>
						<td> <%= event.user.nickname%> </td>
						<td> <%= event.start_date%></td>
						<td> <%= event.end_date%></td>
						<td> 
						<%= link_to '<i class="glyphicon glyphicon-eye-open gevent"></i>'.html_safe, event %>				
						<%= link_to '<i class="glyphicon glyphicon-pencil gevent"></i>'.html_safe, edit_event_path(event)%> 
						<%= link_to '<i class="glyphicon glyphicon-trash gevent"></i>'.html_safe, event, method: :delete, data: { confirm: '¿Está seguro de este evento?' } %></td>
					</tr>
				<%end%>
			</tbody>
		</table>
	</div>
</div>
<%=link_to "Volver", administration_index_path, :class=>"btn btn-default btn-form"%>
<script>
	$(document).ready(function() {
		$('#event_dt').DataTable({
			"language": {
				"url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
			},
			"scrollCollapse": true,
			"paging": false,
			"columns": [
				{ "width": "35%" },
				{ "width": "15%" },
				{ "width": "20%" },
				{ "width": "20%" },
				{ "width": "10%" }
			],
		});
	} );
</script>